Установка

Клонировать репозиторий git clone git@github.com:Aldirane/2_factor_auth_module.git
В ветке main само ядро cs-cart
В ветке auth_code_module находится модуль auth_code реализующий двухфакторную авторизацию

Настройка SMTP

В разделе Настройки -> электронная почта заполните следующие поля:
    - SMTP сервер:  укажите почтовый сервер как smtp.mail.ru или smtp.yandex.ru в зависимости от вашей почты.
    - Имя пользователя для SMTP: укажите реальную рабочую почту, например kirubush@mail.ru 
    - Пароль для SMTP сервера:
        Указывайте пароль для SMTP сервера, который является внешним паролем приложений для этой почты. Посмотреть как создавать такой пароль напишите в браузере: - как создать пароль приложений для mail.ru или какая у вас почта.
    - Шифрованное соединение: не использовать
    - Использовать SMTP аутентификацию: поставить галку.

В разделе Настройки -> Компания, укажите везде один и тот же email который указали в разделе электронная почта.

Описание и особенности

    - Для проверки: зарегистрируйтесь и укажите реальную почту.
    - При входе на витрину магазина потребуется ввести проверочный код, который будет отправлен на указанную при входе почту. Если почта неверная код не придет.
    - Если код указан неверно и отправлен 3 раза то потребуется ввести почту и пароль заново.
    - Если отправлен новый код больше 2ух раз то потребуется ввести почту заново.
    - При каждой отправке нового кода вы можете пробовать вводить код 3 раза.
    - При истечении 300 секунд (5 мин) код будет считаться не действительным и необходимо запросить новый код.
    - Изменить время действия кода для тестов можно в файле app/addons/auth_code/controllers/common/verify_code.php 196 строка. Измените 300 на более короткий срок, например 10. Тогда код будет недействителен спустя 10 секунд.